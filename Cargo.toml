[package]
name = "mmsdm"
version = "0.2.0"
authors = ["Eric Sheppard <eric@sheppard.cloud>", "Nayika Sheppard <nayika@eigenmo.de>"]
edition = "2021"
license = "MIT"
repository = "https://github.com/eigenmo-de/mmsdm-rs"
description = "Parse and Transform MMSDM data"

[workspace]
members = [
    "codegen",
    "xtask",
]

[[examples]]
name = "parquet"
features = ["save_as_parquet", "dispatch", "settlement_data"]



[dependencies]
log = "0.4"
zip = "0.5"
csv = "1.1"
chrono-tz = "0.5"
thiserror = "1"
rust_decimal = "1"
serde_json = "1"
num-traits = "0.2"
cfg-if = "1"

[dependencies.serde]
version = "1"
features = ["derive"]

[dependencies.chrono]
version = "0.4"
features = ["serde"]

[dependencies.arrow2]
version = "0.6"
features = ["io_csv", "io_csv_read"]
optional = true

[dependencies.parquet2]
version = "0.5"
optional = true

[dependencies.tiberius]
version = "0.6"
features = ["rust_decimal", "chrono"]
optional = true

[dependencies.futures]
version = "0.3"
optional = true


[dev-dependencies]
anyhow = "1"
tiberius = { version = "0.6", features = ["rust_decimal"] }
serde_json = "1"
env_logger = "0.8"
tokio = { version = "1", features = ["full"]  }
tokio-util = { version = "0.6", features = ["compat"]  }
flate2 = "1"
reqwest = { version = "0.11", features = ["blocking"] }
scraper = "0.12"
futures = "0.3"

[features]
sql_server = ["tiberius", "futures"]
save_as_parquet = ["parquet2", "arrow2"]
ancillary_services = []
asoffer = []
bids = []
billing_config = []
billing_run = []
configuration = []
demand_forecasts = []
dispatch = []
force_majeure = []
gd_instruct = []
generic_constraint = []
historical = []
irauction = []
market_config = []
market_notice = []
mcc_dispatch = []
meter_data = []
mrevent = []
mtpasa = []
network = []
p5min = []
participant_registration = []
pdpasa = []
pre_dispatch = []
prudentials = []
reserve_data = []
settlement_config = []
settlement_data = []
stpasa_solution = []
trading_data = []
voltage_instructions = []
mmsdm = ["ancillary_services","asoffer","bids","billing_config","billing_run","configuration","demand_forecasts","dispatch","force_majeure","gd_instruct","generic_constraint","historical","irauction","market_config","market_notice","mcc_dispatch","meter_data","mrevent","mtpasa","network","p5min","participant_registration","pdpasa","pre_dispatch","prudentials","reserve_data","settlement_config","settlement_data","stpasa_solution","trading_data","voltage_instructions"]
default = []
